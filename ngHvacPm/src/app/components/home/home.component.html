
<h1>{{ title }} <span class="badge bg-primary">{{getHvacPmCount()}}</span></h1>

<div id='pmList' *ngIf="! selected">
  <table class="table table-striped table-hover">
    <thead class="table-dark">
      <tr>
        <th>Task</th>
        <th>Mark</th>
        <th>Completed</th>
        <th>Delete</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let pm of pmList">
        <td (click)="displayHvacPm(pm)">{{ pm.quarter }}</td>
        <td><input type="checkbox" name="completed" [(ngModel)]="pm.completed"> </td>
        <td>{{ pm.completed }}</td>
        <td> <button (click)="deleteHvacPm(pm.id)" class="btn btn-danger">X</button> </td>
      </tr>
    </tbody>
  </table>
  <form>
    <div class="row">
      <input class="form-control col" type="text" name="task" [(ngModel)]="newHvacPm.tasks">
      <button class="btn btn-primary col-auto" (click)="addHvacPm(newHvacPm)">Add HvacPm</button>
    </div>
  </form>
</div>

<div id='pmDetails' *ngIf="selected && !editHvacPm">
  <h4>{{selected.id}}</h4>
  <h3>{{selected.tasks}}</h3>
  <p>{{selected.customer}}</p>
  <p>Completed: {{selected.completed}}</p>
  <button class="btn btn-outline-danger" (click)="displayTable()">Back</button>
  <button class="btn btn-outline-primary" (click)="setEditHvacPm()">Edit</button>
</div>

<div *ngIf="editHvacPm">
  <h4>Edit HvacPm #{{editHvacPm.id}}</h4>
  <form>
    <div class="row">
      <label class="form-label col-auto" for="task">Task</label>
      <input class="form-control col" type="text" name="task" [(ngModel)]="editHvacPm.tasks"> <br>
    </div>
    <div class="row">
      <label class="form-label col-auto" for="description">Description</label>
      <textarea class="form-control col" name="description" [(ngModel)]="editHvacPm.customer"></textarea> <br>
    </div>
    <div class="form-check">
      <label class="form-check-label" for="completed">Completed</label>
      <input class="form-check-input" type="checkbox" name="completed" [(ngModel)]="editHvacPm.completed"> <br>
    </div>
    <button class="btn btn-danger" (click)="editHvacPm = null">Cancel</button>
    <button class="btn btn-primary" (click)="updateHvacPm(editHvacPm)">Save</button>
  </form>
</div>

